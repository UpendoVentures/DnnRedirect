<!DOCTYPE html>
<html>
 <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Dnn Redirect : Open Source DNN Redirects module" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Dnn Redirect</title>
  </head>

<body>

 <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/bogdan-litescu/DnnRedirect">View on GitHub</a>

          <h1 id="project_title">Dnn Redirect</h1>
          <h2 id="project_tagline">Open Source DNN Redirects module</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/bogdan-litescu/DnnRedirect/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/bogdan-litescu/DnnRedirect/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="dnn-redirect-by-dnn-sharp" class="anchor" href="#dnn-redirect-by-dnn-sharp"><span class="octicon octicon-link"></span></a>DNN Redirect by <a href="http://www.dnnsharp.com">DNN Sharp</a> Documentation
</h1>

<div style="float: left; margin: 0px 20px;"><img alt="" src="http://static.dnnsharp.com.s3.amazonaws.com/logo/dnn-modules/dnn-redirect-240t.png" style="width: 180px;" /></div>
<div>
<h4 style="line-height: 36px; font-size: 28px; padding-top: 42px;"><span style="font-family: 'Segoe UI';">Open Source DNN Module for building&nbsp;<span style="color: #ed3237;">Redirects</span><br />
<span style="color: #ed3237;">Precursor</span>&nbsp;of <span style="color: #ed3237;"><a href="http://www.dnnsharp.com/dotnetnuke/modules/dnn-redirect/redirect-toolkit">Redirect Toolkit</a><br />
</span></span><span style="font-size: 22px; font-weight: bold; line-height: 36px; font-family: 'Segoe UI';">&nbsp;Source Code Available on </span><span style="font-size: 22px; font-style: inherit; font-variant: inherit; font-family: 'Segoe UI'; color: #ed3237;"><a href="https://github.com/bogdan-litescu/DnnRedirect">Github</a></span></h4>
</div>

<br/>
<p>Placed on a DotNetNuke page, DNN Redirect will redirect users based on:</p>
<p>
<ul>
    <li>Security Roles</li>
    <li>Referrer URL</li>
    <li>GET/POST parameters</li>
</ul>
</p>

<p>Make sure to also check <a href="http://www.dnnsharp.com/dotnetnuke/modules/dnn-redirect/redirect-toolkit">Redirect Toolkit</a> since it supports a lot more options.</p>

<p>Redirects happen on the server side (using HTTP 302 temporary redirects) or client side using JavaScript redirects with countdown timer.</p>

<br />
<p><strong>Table of Contents:</strong></p>
<p>
<ul>
    <li><a href="#Getting Started">Getting Started</a></li>

    <li><span><a href="#Logic & Workflow">Logic &amp; Workflow</a></span></li>

    <li><span><a href="#Sample Usage">Sample Usage</a></span></li>

    <li><span><a href="#Settings Explained">Settings Explained</a></span>
    <ul>
        <li><span><a href="#Parameter Redirects">Parameter Redirects</a><br />
        </span></li>
        <li><a href="#Referrer Redirects"><span>Referrer Redirects</span></a></li>
        <li><span><a href="#Role Redirects">Role Redirects</a></span></li>
    </ul>
    </li>
</ul>
<br />
</strong></p>

<hr>

<h2><a id="Getting Started" href="#Getting Started">Getting Started</a></h2>

<p>This page guides you through setting up DNN Redirect with a simple redirect that affects all users which are not registered. We will redirect all unregistered users to the Benefits page.</p>

<h4><span style="color: #4f81bd;">Step 1 - Installation</span></h4>

<p><strong>Note:</strong>&nbsp;If you don't already it installed, proceed to&nbsp;</span><a href="http://www.dnnsharp.com/dotnetnuke/modules/dnn-redirect/download">Download DNN Redirect FREE Edition</a></p>

<p>Using DotNetNuke Control Panel, instantiate a DNN Redirect module on the page where you want to redirect users from. Let's assume the redirects module goes on the home page.</p>

<p><b>Important</b>: For the module to be able to execute redirects make sure ALL ROLES & USERS that will be affected have view rights to the module (this is specified in Module Settings, by default it inherits view permissions from the DNN page). The safest way to proceed is to grant view rights to all users. </p>
<p>To make this module transparent to the end user, just uncheck Display Container option in Module Settings. Note that the only thing displayed by this module for non-administrators are random trial notifications and count down timers if the rules was setup as such.</p>

<h4><span style="color: #4f81bd;">Step 2 - Setting the Redirect</span></h4>

<p>When you're logged in with an administrator account DNN Redirect module will display the administration interface. There are 3 distinct sections, each representing on type of redirect: Parameter Redirects, Referrer Redirects and Role Redirects.</p>

<p><strong>Note:</strong>&nbsp;In Redirect Toolkit all redirect types are created under the same generic interface making the administration interface much simpler and powerful to use. Read more in Redirect Toolkit Getting Started Guide.</p>

<p>To achieve our purpose locate the Role Redirects section, the last of the three sections, and set it up to redirect Unregistered Users to http://yoursite.com/Benefits.aspx page. See picture below for more info.</p>

<div align="center"><img src="DNN-Redirect-Getting-Started-Role-Redirect.png"></div>

<p>Now, hit Add/Update button to save the redirect in Database. Once added, you should see the redirect added to the list below the form. You will notice there's no edit button in the list. To edit the redirect just fill the form again with Unregistered Users role and a different URL. This will replace existing redirect.</p>

<p>If you followed the steps then your screen should look like in the picture below.</p>

<div align="center"><img src="DNN-Redirect-Getting-Started-Role-Redirect-List.png"></div>

<h4><span style="color: #4f81bd;">Step 3- Testing</span></h4>

<strong style="color: #ff0000">Important:</strong>Note that Administrators (or users with edit rights for the DNN Redirect module) will NEVER be affected by redirects. Though we're going to test this rule as an unregistered user, this is good to know in the future as you define more redirects.</span>

<p>Testing this is very simple. Make sure you're not logged in on your portal, then access the homepage (or whatever page you created the DNN Redirect module on). If everything is setup correctly, you should be redirect to the Benefits page.</p>

<p><span>If the redirect doesn't happen, please review all the instructions above or contact us for support on&nbsp;</span><a href="http://www.dnnsharp.com/support#opturl=%2Fredirect-toolkit--dnnredirect" rel="nofollow" style="font-family: Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px; color: #551a8b;">our forums</a><span style="font-size: 12px; line-height: 18px; font-family: Arial, Helvetica, sans-serif; color: #000000;">.</span></p>

<p><b>Congratulations</b>, you created your first rule!
We recommend that you browse the rest of the documentation and experiment with various options.</p>

<hr>

<h2> <a id="Logic & Workflow" href="#Logic & Workflow"> Logic & Workflow</a></h2>

<p>This section describes how DNN Redirect works. This is good to know in order to achieve best results and avoid inconsistencies.</p>

<p>DNN Redirect implements a fall back mechanism, some rules are before others and the first rule to be found is always used. If no rule matches then the defaults are used. </p>

<p>The order is as follows:</p>

<ol>
    <li>
    <div><strong>PARAMETER Rules</strong>- First DNN Redirect checks Parameter Based redirects to see if any matches current context. If so, the redirection happens and the execution ends.<br />
    Before checking the conditions DNN Redirect invokes&nbsp;<a href="http://www.dnnsharp.com/dotnetnuke/modules/token-replacement/my-tokens" style="color: #551a8b;">My Tokens</a>&nbsp;to replace tokens inside Parameter Name and Parameter Value fields.<br />
    <br />
    </div>
    </li>
    <li>
    <div><strong>REFERRER Rules</strong>- Second type of rules that are checked are those based on referrer. Before checking the conditions DNN Redirect invokes&nbsp;<a href="http://www.dnnsharp.com/dotnetnuke/modules/token-replacement/my-tokens" style="color: #551a8b;">My Tokens</a>&nbsp;to replace tokens inside Check Referrer field.<br />
    <br />
    </div>
    </li>
    <li>
    <div><strong>ROLE Rules</strong>- DNN Redirect checks if there's any rule that matches roles of current user; if any is found, it will redirect to the URL that is associated with the rule.<br />
    <br />
    </div>
    </li>
    <li>
    <div><strong>GET Parameter of Current Page</strong>- If none of the rules match, DNN Redirect will check the defaults. First, it will check for the named GET parameter in current request. If the parameter is found, then it redirects to whatever value is in that parameter.<br />
    <br />
    </div>
    </li>
    <li>
    <div><strong>GET Parameter of Previous Page</strong>- Same thing as above happens for the URL of referrer (basically, previous page).<br />
    <br />
    </div>
    </li>
    <li>
    <div><strong>Default URL</strong>- If no rule matches, then DNN Redirect looks if there's a default URL and redirects there.<br />
    <br />
    </div>
    </li>
    <li>
    <div><strong>No Action</strong>- If the Default URL is not specified, then the user is allowed on current page.<br />
    This basically means you have a logic for this, either to allow only certain roles to access current page or to pass through to DotNetNuke internal logic.</div>
    </li>
</ol>

<p><b>What if for example I want the ROLE rules to be checked before PARAMETER Rules?</b></p>

<p>Or, with other words, how do you specify the order in which rules are evaluated?</p>

<p>This isn't supported in DNN Redirect, it's only available in &nbsp;<a href="http://dnn-redirect-toolkit.dnnsharp.com/" style="color: #551a8b; background-color: #ffffff; ">Redirect Toolkit</a>(this is possible because Redirect Toolkit features a generic unified interface for all rule types).</p>

<p>However, this can be achieved in DNN Redirect with a work around: create multiple DNN Redirect modules on the page and stack them in the order you want them to run. If a rule from first module matches, a redirect will happen and the second module will not get to execute. But if they don't match, then the second module will run and redirect accordingly and so on.</p>

<hr>

<h2><a id="Sample Usage" href="#Sample Usage"> Sample Usage</a></h2>

<p>Here are some <b>scenarios</b> when DNN Redirect will help:</p>

<ol>
    <li>
    <div><strong>Redirect After Login </strong>
        <br />Say that after a user logs in, you want to redirect him based on his role: Subscribers should go to My Subscriptions page and Service Providers should go to My Services page.
        <br>Easiest way to accomplish this is have a redirect page with a DNN Redirect module on it. In User Settings, you set that all users should be redirected to the redirect page after login. Then, in DNN Redirect settings you add rules for each role accordingly. 
        <br>Furthermore, you can let other role types follow old logic - that is you can specify a GET parameter that contains an Url to which users will be redirected. In this scenario, you'll set DNN Redirect to read the returnurl GET Parameter of the previous page (the Login Page) and redirect there.<br/>
        <br/>
    
    </div>
    </li>
    <li>
    <div><strong>Restrict access to certain pages </strong>
        <br />Usually, you can restrict access to a page but that would redirect unauthorized users to Login page. If placed on that page, DNN Redirect allows you to redirect certain roles to any page, while allowing others that don't match any rule to access the page.<br />
    <br />
    </div>
    </li>
    <li>
    <div><strong>Web Wizards</strong>
        <br />If you have a wizard with many pages and the flow doesn't happen all at once, DNN Redirect can help you trace which step each user should be on. Trick is on each step you alter user roles, let's say we hove two roles for two steps: Step1 role and Step2 role. Then, on each step you add a DnnRedirect module that redirect Step1 roles to first page and Step2 roles to second page. If role is on the right page, then there should be no rule for that role so access will be permitted. <br />
    <br />
    </div>
    </li>
    <li>
    <div><strong>Dynamic Redirect </strong>
        <br />Say you have a role that you want to redirect automatically after login to the latest article. DNN Redirect integrates with MyTokens, so all you have to do is define the token that retrieves latest article the use it in the Url rule for that role. The url will look something like this: /Articles.aspx?id=[LatestArticle:Id])<br />
    <br />
    </div>
    </li>
</ol>

<p>These are just a few examples, there are a lot more things you can do with DNN Redirect. </p>

<p>And for even more applicabilities make sure to also check&nbsp;&nbsp;<a href="http://www.dnnsharp.com/dotnetnuke/modules/dnn-redirect/redirect-toolkit">Redirect Toolkit</a>.</p>

<hr>

<h2><a id="Settings Explained" href="#Settings Explained">Settings Explained</a></h2>

<h3>Redirect Types</h3>

<p>DNN Redirect supports 3 different types of rules based on:</p>

<ul>
    <li>GET/POST parameters</li>
    <li>Referrer URL</li>
    <li>Security Roles</li>
</ul>

<h4><a id="Parameter Redirects" href="#Parameter Redirects">Parameter Redirects</a></h4>

<p>This type of redirect allows matching based on page state. This includes reading and evaluating Query String parameters (from GET operations) and Form Data (from POST operations).</p>

<p>The administration interface for adding Parameter based redirects basically allows to match a named parameter to a specified value using one of the 6 available operators (Equals, Not Equals, Contains, Not Contains, Exists, Not Exists).</p>

<p>Note that Parameter Name and Parameter Value text boxes support My Tokens, making it possible to build dynamic expressions.</p>

<div align="center"><img src="DNN-Redirect-Getting-Started-Param-Redirects.png"></div>

<h4><a id="Referrer Redirects" href="#Referrer Redirects">Referrer Redirects</a></h4>

<p>This type of redirect provides capabilities to match based on where the user came from. This gives flexibility to create portals based on referrals, partners, commissions, etc.</p>

<p>Note that referrer textbox supports <a href="http://www.dnnsharp.com/dotnetnuke/modules/token-replacement/my-tokens">My Tokens</a>, making it possible to build dynamic expressions.</p>

<div align="center"><img src="DNN-Redirect-Getting-Started-Referrer-Redirects.png"></div>

<p>Common scenarios when this type of redirect is needed include:</p>

<ul>
    <li>Redirect to different pages based on where the user came from</li>
    <li>Control internal workflow by redirecting users to subpages based on the page they came from (the referrer also works for internal pages, so you can actually determine the page the user came from; based on this, you can transparently redirect the user to see one page or another)</li>
    <li>Trigger special behavior for user that just arrived on the portal</li>
</ul>

<h4><a id="Role Redirects" href="#Role Redirects">Role Redirects</a></h4>

<p>To define a new rule, you simply select a role from the dropdown (that is built against the database to include all rules on the current portal) and specify a URL to redirect to. Not that you can input anything you like in the URL, so it can be a relative or absolute URL, it can be on any protocol and port, etc. </p>

<p>Furthermore, if you have <a href="http://www.dnnsharp.com/dotnetnuke/modules/token-replacement/my-tokens">My Tokens</a> installed, you can include tokens in URL, so you truly turn the redirects into dynamic redirects.</p>

<div align="center"><img src="DNN-Redirect-Role-Redirects.png"></div>

<p>Note that there is no separate edit control for role redirects. Just by adding a new redirect will overwrite any rule that exists for that role.</p>

<p>Also, make sure your redirects will not cause an infinite loop. If you accidentally run into this scenario, then you'll need to manually delete entries in avtRedirect tables in the database.</p>

<h4>Manage Role Redirects</h4>

<p>In this section redirects can be removed and priorities set. DNN Redirect will parse rules in the order given by their priority. So, for users with multiple role, you have full control to define which one is relevant (or matters most) in terms of redirection. Note that priorities can be both positive and negative. The redirect that has the highest priority number is parsed first.</p>

<h3>Fall Back Redirects</h3>

<p>These basically define the behavior when no redirect matches for current role. Rules can be added to redirect to value of a GET parameter of current page or previous page. It is common to see ?returnurl like RLs, and DNN Redirect is flexible to let you input the name of that parameter.</p>

<p>Finally, if both the role redirects and the GET parameter redirects have failed, there is a default rule what will redirect to any URL that's provided in there. You can also leaved this blank, in which case you actually decide that certain users should remain on the page while others should be redirected.</p>

<p><b><a href="http://www.dnnsharp.com/dnn-modules/redirect-toolkit/upgradebenefitsnwe">Find out more about what benefits you can get from upgrading to Redirect Toolkit</a></b></p>
</section>
</div>

<!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Dnn Redirect maintained by <a href="https://github.com/bogdan-litescu">bogdan-litescu</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-3523643-6");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

</body>
</html>